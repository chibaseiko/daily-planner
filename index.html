<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daily Schedule Planner</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background-color: #f4f4f4;
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }
        .planner-container {
            background-color: #fff;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
            padding: 20px;
            width: 90%;
            max-width: 1200px;
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 20px;
            overflow-y: auto;
        }
        .planner-header {
            grid-column: span 2;
            text-align: center;
            margin-bottom: 20px;
        }
        .planner-header h1 {
            margin: 0;
            font-size: 24px;
            color: #333;
        }
        .planner-header input[type="date"] {
            margin-top: 10px;
            padding: 5px;
            border-radius: 5px;
            border: 1px solid #ddd;
        }
        .weekday {
            margin-top: 5px;
            font-size: 18px;
            color: #666;
        }
        .section {
            background-color: #fff;
            border-radius: 10px;
            padding: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        .section h2 {
            margin-top: 0;
            font-size: 18px;
            color: #333;
            background-color: #FFEB3B;
            padding: 10px;
            border-radius: 5px;
        }
        .time-slot, .sub-task {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }
        .time-slot span, .sub-task span {
            width: 150px;
            color: #555;
        }
        .time-slot input[type="text"], .sub-task input[type="text"] {
            flex: 1;
            padding: 5px;
            border-radius: 5px;
            border: 1px solid #ddd;
            margin-left: 10px;
        }
        .task-list, .note-list {
            padding: 0;
            list-style: none;
        }
        .task-list li, .note-list li {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }
        .task-list li input[type="text"], .note-list li input[type="text"] {
            flex: 1;
            padding: 5px;
            border-radius: 5px;
            border: 1px solid #ddd;
            margin-left: 10px;
            overflow: hidden;
            white-space: nowrap;
            text-overflow: ellipsis;
        }
        .task-list li textarea {
            flex: 1;
            padding: 5px;
            border-radius: 5px;
            border: 1px solid #ddd;
            margin-left: 10px;
            resize: vertical;
        }
        .buttons {
            text-align: center;
            grid-column: span 2;
            margin-top: 20px;
        }
        .buttons button {
            margin: 5px;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            background-color: #4CAF50;
            color: white;
            cursor: pointer;
        }
        .buttons button.clear {
            background-color: #f44336;
        }
        .add-button {
            background-color: #2196F3;
            margin-left: 10px;
        }
        .remove-button {
            background-color: #FFC107;
            margin-left: 10px;
        }
        .move-button {
            background-color: #FF5722;
            margin-left: 10px;
        }
    </style>
</head>
<body>
    <div class="planner-container">
        <div class="planner-header">
            <h1 id="plannerTitle">Daily Schedule Planner</h1>
            <input type="date" id="noteDate">
            <div class="weekday" id="weekday"></div>
        </div>
        
        <div class="section">
            <h2>Today's Schedule</h2>
            <div id="schedule">
                <!-- Initial time slot, will be populated dynamically -->
            </div>
        </div>
        
        <div class="section">
            <h2>Top Priority</h2>
            <ul class="task-list" id="priorityTasks">
                <li>
                    <textarea placeholder="Enter your task"></textarea>
                    <button class="add-button" onclick="addSubTask(this)">Add Subtask</button>
                    <button class="remove-button" onclick="removeTask(this)">Remove</button>
                    <button class="move-button" onclick="moveToTodoList(this)">Move to To-Do List</button>
                    <ul class="sub-task-list"></ul>
                </li>
            </ul>
            <button onclick="addTask('priorityTasks')">Add Task</button>
        </div>
        
        <div class="section">
            <h2>To-Do List</h2>
            <ul class="task-list" id="todoTasks">
                <li>
                    <textarea placeholder="Enter your task"></textarea>
                    <button class="add-button" onclick="addSubTask(this)">Add Subtask</button>
                    <button class="remove-button" onclick="removeTask(this)">Remove</button>
                    <ul class="sub-task-list"></ul>
                </li>
            </ul>
            <button onclick="addTask('todoTasks')">Add Task</button>
        </div>
        
        <div class="section">
            <h2>Notes/Reminders</h2>
            <ul class="note-list" id="notes">
                <li>
                    <textarea placeholder="Enter your note"></textarea>
                    <button class="remove-button" onclick="removeTask(this)">Remove</button>
                </li>
            </ul>
            <button onclick="addNote()">Add Note</button>
        </div>
        
        <div class="buttons">
            <button onclick="saveNotes()">Save</button>
            <button class="clear" onclick="clearNotes()">Clear</button>
        </div>
    </div>

    <script>
        const plannerTitleElement = document.getElementById('plannerTitle');
        const noteDateElement = document.getElementById('noteDate');
        const weekdayElement = document.getElementById('weekday');
        const scheduleElement = document.getElementById('schedule');
        const priorityTasksElement = document.getElementById('priorityTasks');
        const todoTasksElement = document.getElementById('todoTasks');
        const notesElement = document.getElementById('notes');

        function addTask(listId) {
            const list = document.getElementById(listId);
            const newTask = document.createElement('li');
            const input = document.createElement('textarea');
            input.placeholder = 'Enter your task';
            const addButton = document.createElement('button');
            addButton.classList.add('add-button');
            addButton.innerText = 'Add Subtask';
            addButton.onclick = function() { addSubTask(this); };
            const removeButton = document.createElement('button');
            removeButton.classList.add('remove-button');
            removeButton.innerText = 'Remove';
            removeButton.onclick = function() { removeTask(this); };
            const moveButton = document.createElement('button');
            moveButton.classList.add('move-button');
            moveButton.innerText = 'Move to To-Do List';
            moveButton.onclick = function() { moveToTodoList(this); };
            const subTaskList = document.createElement('ul');
            subTaskList.classList.add('sub-task-list');
            newTask.appendChild(input);
            newTask.appendChild(addButton);
            newTask.appendChild(removeButton);
            newTask.appendChild(moveButton);
            newTask.appendChild(subTaskList);
            list.appendChild(newTask);
            updateTimeSlots();
        }

        function addSubTask(button) {
            const task = button.parentElement;
            const subTaskList = task.querySelector('.sub-task-list');
            const newSubTask = document.createElement('li');
            const input = document.createElement('textarea');
            input.placeholder = 'Enter your subtask';
            const removeSubButton = document.createElement('button');
            removeSubButton.classList.add('remove-button');
            removeSubButton.innerText = 'Remove';
            removeSubButton.onclick = function() { removeTask(this); };
            newSubTask.appendChild(input);
            newSubTask.appendChild(removeSubButton);
            subTaskList.appendChild(newSubTask);
        }

        function addNote() {
            const newNote = document.createElement('li');
            const input = document.createElement('textarea');
            input.placeholder = 'Enter your note';
            const removeButton = document.createElement('button');
            removeButton.classList.add('remove-button');
            removeButton.innerText = 'Remove';
            removeButton.onclick = function() { removeTask(this); };
            newNote.appendChild(input);
            newNote.appendChild(removeButton);
            notesElement.appendChild(newNote);
        }

        function removeTask(button) {
            const task = button.parentElement;
            task.remove();
            updateTimeSlots();
        }

        function moveToTodoList(button) {
            const task = button.parentElement;
            todoTasksElement.appendChild(task);
            task.querySelector('.move-button').remove();
            updateTimeSlots();
        }

        function updateTimeSlots() {
            scheduleElement.innerHTML = '';
            const tasks = document.querySelectorAll('#priorityTasks > li, #todoTasks > li');
            tasks.forEach((task, index) => {
                const timeSlot = document.createElement('div');
                timeSlot.classList.add('time-slot');
                const timeInput = document.createElement('input');
                timeInput.type = 'text';
                timeInput.placeholder = `Time Slot ${index + 1}`;
                timeSlot.appendChild(timeInput);
                scheduleElement.appendChild(timeSlot);
            });
        }

        function saveNotes() {
            const date = noteDateElement.value || new Date().toISOString().split('T')[0];
            const dayOfWeek = new Date(date).toLocaleDateString('en-US', { weekday: 'long' });
            localStorage.setItem('currentDate', date);
            for (let i = 0; i < scheduleElement.children.length; i++) {
                const timeSlot = scheduleElement.children[i];
                const timeInput = timeSlot.querySelector('input[type="text"]');
                localStorage.setItem(`schedule-${date}-${i}-time`, timeInput.value);
            }
            saveList('priorityTasks', date);
            saveList('todoTasks', date);
            saveList('notes', date);
            alert('Notes saved!');
        }

        function saveList(listId, date) {
            const list = document.getElementById(listId);
            for (let i = 0; i < list.children.length; i++) {
                const item = list.children[i];
                const input = item.querySelector('textarea');
                localStorage.setItem(`${listId}-${date}-${i}`, input.value);
                const subTaskList = item.querySelector('.sub-task-list');
                for (let j = 0; j < subTaskList.children.length; j++) {
                    const subTask = subTaskList.children[j];
                    const subTaskInput = subTask.querySelector('textarea');
                    localStorage.setItem(`${listId}-${date}-${i}-subtask-${j}`, subTaskInput.value);
                }
            }
        }

        function loadNotes() {
            const date = noteDateElement.value || localStorage.getItem('currentDate') || new Date().toISOString().split('T')[0];
            noteDateElement.value = date;
            const dayOfWeek = new Date(date).toLocaleDateString('en-US', { weekday: 'long' });
            weekdayElement.innerText = dayOfWeek;
            for (let i = 0; i < scheduleElement.children.length; i++) {
                const timeSlot = scheduleElement.children[i];
                const timeInput = timeSlot.querySelector('input[type="text"]');
                timeInput.value = localStorage.getItem(`schedule-${date}-${i}-time`) || '';
            }
            loadList('priorityTasks', date);
            loadList('todoTasks', date);
            loadList('notes', date);
        }

        function loadList(listId, date) {
            const list = document.getElementById(listId);
            list.innerHTML = '';
            let i = 0;
            while (localStorage.getItem(`${listId}-${date}-${i}`) !== null) {
                const newTask = document.createElement('li');
                const input = document.createElement('textarea');
                const addButton = document.createElement('button');
                addButton.classList.add('add-button');
                addButton.innerText = 'Add Subtask';
                addButton.onclick = function() { addSubTask(this); };
                const removeButton = document.createElement('button');
                removeButton.classList.add('remove-button');
                removeButton.innerText = 'Remove';
                removeButton.onclick = function() { removeTask(this); };
                const moveButton = document.createElement('button');
                moveButton.classList.add('move-button');
                moveButton.innerText = 'Move to To-Do List';
                moveButton.onclick = function() { moveToTodoList(this); };
                const subTaskList = document.createElement('ul');
                subTaskList.classList.add('sub-task-list');
                input.value = localStorage.getItem(`${listId}-${date}-${i}`);
                newTask.appendChild(input);
                newTask.appendChild(addButton);
                newTask.appendChild(removeButton);
                newTask.appendChild(moveButton);
                newTask.appendChild(subTaskList);
                list.appendChild(newTask);
                let j = 0;
                while (localStorage.getItem(`${listId}-${date}-${i}-subtask-${j}`) !== null) {
                    const newSubTask = document.createElement('li');
                    const subTaskInput = document.createElement('textarea');
                    const removeSubButton = document.createElement('button');
                    removeSubButton.classList.add('remove-button');
                    removeSubButton.innerText = 'Remove';
                    removeSubButton.onclick = function() { removeTask(this); };
                    subTaskInput.value = localStorage.getItem(`${listId}-${date}-${i}-subtask-${j}`);
                    newSubTask.appendChild(subTaskInput);
                    newSubTask.appendChild(removeSubButton);
                    subTaskList.appendChild(newSubTask);
                    j++;
                }
                i++;
            }
            updateTimeSlots();
        }

        function clearNotes() {
            if (confirm('Are you sure you want to clear the notes?')) {
                const date = noteDateElement.value || new Date().toISOString().split('T')[0];
                for (let i = 0; i < scheduleElement.children.length; i++) {
                    const timeSlot = scheduleElement.children[i];
                    const timeInput = timeSlot.querySelector('input[type="text"]');
                    timeInput.value = '';
                    localStorage.removeItem(`schedule-${date}-${i}-time`);
                }
                clearList('priorityTasks', date);
                clearList('todoTasks', date);
                clearList('notes', date);
            }
        }

        function clearList(listId, date) {
            const list = document.getElementById(listId);
            for (let i = 0; i < list.children.length; i++) {
                const item = list.children[i];
                const input = item.querySelector('textarea');
                input.value = '';
                const subTaskList = item.querySelector('.sub-task-list');
                for (let j = 0; j < subTaskList.children.length; j++) {
                    const subTask = subTaskList.children[j];
                    const subTaskInput = subTask.querySelector('textarea');
                    subTaskInput.value = '';
                    localStorage.removeItem(`${listId}-${date}-${i}-subtask-${j}`);
                }
                localStorage.removeItem(`${listId}-${date}-${i}`);
            }
        }

        noteDateElement.addEventListener('change', loadNotes);
        document.addEventListener('DOMContentLoaded', loadNotes);
    </script>
</body>
</html>
