<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daily Schedule Planner</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        html, body {
            height: 100%;
            font-family: 'Arial', sans-serif;
            background-color: #f4f4f4;
        }
        .planner-container {
            background-color: #fff;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
            padding: 20px;
            width: 90%;
            max-width: 1200px;
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            overflow-y: auto;
            margin: auto;
        }
        .planner-header {
            grid-column: span 2;
            text-align: center;
            margin-bottom: 20px;
            padding-top: 20px;
        }
        .planner-header h1 {
            font-size: 24px;
            color: #333;
        }
        .planner-header input[type="date"] {
            margin-top: 10px;
            padding: 5px;
            border-radius: 5px;
            border: 1px solid #ddd;
        }
        .planner-header::after {
            content: '';
            display: block;
            width: 100%;
            height: 1px;
            background: linear-gradient(to right, transparent, #333, transparent);
            margin: 10px 0;
        }
        .weekday {
            margin-top: 5px;
            font-size: 18px;
            color: #666;
        }
        .section {
            background-color: #fff;
            border-radius: 10px;
            padding: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            height: 300px;
            display: flex;
            flex-direction: column;
            overflow-y: auto;
            position: relative;
        }
        .section:nth-child(2) {
            background-color: #FFEBEE;
        }
        .section:nth-child(3) {
            background-color: #E3F2FD;
        }
        .section:nth-child(4) {
            background-color: #E8F5E9;
        }
        .section:nth-child(5) {
            background-color: #FFF3E0;
        }
        .section h2 {
            margin-top: 0;
            font-size: 18px;
            color: #333;
            padding: 10px;
            border-radius: 5px;
            text-align: center;
            background-color: #FFEB3B;
        }
        .time-slot, .sub-task {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }
        .time-slot span, .sub-task span {
            width: 50px;
            color: #555;
            text-align: center;
        }
        .time-slot input[type="text"], .sub-task input[type="text"], .time-slot input[type="datetime-local"] {
            flex: 2;
            padding: 5px;
            border-radius: 5px;
            border: 1px solid #ddd;
            margin-left: 10px;
        }
        .time-slot input[type="datetime-local"] {
            flex: 1.5;
        }
        .task-list, .note-list {
            padding: 0;
            list-style: none;
            flex: 1;
            overflow-y: auto;
        }
        .task-list li, .note-list li {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }
        .task-list li textarea, .note-list li textarea {
            flex: 1;
            padding: 5px;
            border-radius: 5px;
            border: 1px solid #ddd;
            margin-left: 10px;
            resize: vertical;
        }
        .task-list li input[type="checkbox"], .note-list li input[type="checkbox"] {
            margin-left: 10px;
        }
        .buttons {
            text-align: center;
            grid-column: span 2;
            margin-top: 20px;
        }
        .buttons button {
            margin: 5px;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            background-color: #4CAF50;
            color: white;
            cursor: pointer;
        }
        .buttons button.clear {
            background-color: #f44336;
        }
        .section-buttons {
            position: absolute;
            bottom: 10px;
            left: 10px;
            right: 10px;
            display: flex;
            justify-content: space-between;
        }
        .section-buttons button {
            background-color: #2196F3;
        }
        .section-buttons .remove-button {
            background-color: #FFC107;
        }
        .section-buttons .move-button {
            background-color: #FF5722;
        }
        .clock-icon {
            font-size: 24px;
            margin-right: 10px;
        }
    </style>
</head>
<body>
    <div class="planner-container">
        <div class="planner-header">
            <h1 id="plannerTitle">Daily Schedule Planner</h1>
            <input type="date" id="noteDate">
            <div class="weekday" id="weekday"></div>
        </div>
        
        <div class="section">
            <h2>Deadline Reminders</h2>
            <div id="schedule">
                <div class="time-slot">
                    <span class="clock-icon">⏰</span>
                    <input type="datetime-local">
                    <input type="text" placeholder="Enter task">
                </div>
            </div>
            <button class="add-button" onclick="addDeadline()">Add Deadline</button>
        </div>
        
        <div class="section">
            <h2>Top Priority</h2>
            <ul class="task-list" id="priorityTasks">
                <li>
                    <textarea placeholder="Enter your task"></textarea>
                    <input type="checkbox" class="task-checkbox">
                    <ul class="sub-task-list"></ul>
                </li>
            </ul>
            <button onclick="addTask('priorityTasks')">Add Task</button>
            <div class="section-buttons">
                <button class="remove-button" onclick="removeSelectedTasks('priorityTasks')">Remove</button>
                <button class="move-button" onclick="moveSelectedTasks()">Move to To-Do List</button>
            </div>
        </div>
        
        <div class="section">
            <h2>To-Do List</h2>
            <ul class="task-list" id="todoTasks">
                <li>
                    <textarea placeholder="Enter your task"></textarea>
                    <input type="checkbox" class="task-checkbox">
                    <ul class="sub-task-list"></ul>
                </li>
            </ul>
            <button onclick="addTask('todoTasks')">Add Task</button>
            <div class="section-buttons">
                <button class="remove-button" onclick="removeSelectedTasks('todoTasks')">Remove</button>
            </div>
        </div>
        
        <div class="section">
            <h2>Notes/Reminders</h2>
            <ul class="note-list" id="notes">
                <li>
                    <textarea placeholder="Enter your note"></textarea>
                    <input type="checkbox" class="task-checkbox">
                </li>
            </ul>
            <button onclick="addNote()">Add Note</button>
            <div class="section-buttons">
                <button class="remove-button" onclick="removeSelectedTasks('notes')">Remove</button>
            </div>
        </div>
        
        <div class="buttons">
            <button onclick="saveNotes()">Save</button>
            <button class="clear" onclick="clearNotes()">Clear</button>
        </div>
    </div>

    <script>
        const plannerTitleElement = document.getElementById('plannerTitle');
        const noteDateElement = document.getElementById('noteDate');
        const weekdayElement = document.getElementById('weekday');
        const scheduleElement = document.getElementById('schedule');
        const priorityTasksElement = document.getElementById('priorityTasks');
        const todoTasksElement = document.getElementById('todoTasks');
        const notesElement = document.getElementById('notes');

        function addTask(listId) {
            const list = document.getElementById(listId);
            const newTask = document.createElement('li');
            const input = document.createElement('textarea');
            input.placeholder = 'Enter your task';
            const checkbox = document.createElement('input');
            checkbox.type = 'checkbox';
            checkbox.classList.add('task-checkbox');
            newTask.appendChild(input);
            newTask.appendChild(checkbox);
            const subTaskList = document.createElement('ul');
            subTaskList.classList.add('sub-task-list');
            newTask.appendChild(subTaskList);
            list.appendChild(newTask);
            updateTimeSlots();
        }

        function addSubTask(button) {
            const task = button.parentElement;
            const subTaskList = task.querySelector('.sub-task-list');
            const newSubTask = document.createElement('li');
            const input = document.createElement('textarea');
            input.placeholder = 'Enter your subtask';
            const checkbox = document.createElement('input');
            checkbox.type = 'checkbox';
            checkbox.classList.add('task-checkbox');
            newSubTask.appendChild(input);
            newSubTask.appendChild(checkbox);
            subTaskList.appendChild(newSubTask);
        }

        function addNote() {
            const newNote = document.createElement('li');
            const input = document.createElement('textarea');
            input.placeholder = 'Enter your note';
            const checkbox = document.createElement('input');
            checkbox.type = 'checkbox';
            checkbox.classList.add('task-checkbox');
            newNote.appendChild(input);
            newNote.appendChild(checkbox);
            notesElement.appendChild(newNote);
        }

        function addDeadline() {
            const newDeadline = document.createElement('div');
            newDeadline.classList.add('time-slot');
            const clockIcon = document.createElement('span');
            clockIcon.classList.add('clock-icon');
            clockIcon.innerHTML = '⏰';
            const timeInput = document.createElement('input');
            timeInput.type = 'datetime-local';
            const taskInput = document.createElement('input');
            taskInput.type = 'text';
            taskInput.placeholder = 'Enter task';
            newDeadline.appendChild(clockIcon);
            newDeadline.appendChild(timeInput);
            newDeadline.appendChild(taskInput);
            scheduleElement.appendChild(newDeadline);
        }

        function removeTask(task) {
            task.remove();
            updateTimeSlots();
        }

        function removeSelectedTasks(listId) {
            const list = document.getElementById(listId);
            const tasks = list.querySelectorAll('li');
            tasks.forEach(task => {
                const checkbox = task.querySelector('.task-checkbox');
                if (checkbox && checkbox.checked) {
                    removeTask(task);
                }
            });
        }

        function moveSelectedTasks() {
            const tasks = priorityTasksElement.querySelectorAll('li');
            tasks.forEach(task => {
                const checkbox = task.querySelector('.task-checkbox');
                if (checkbox && checkbox.checked) {
                    todoTasksElement.appendChild(task);
                    checkbox.checked = false;
                }
            });
            updateTimeSlots();
        }

        function updateTimeSlots() {
            const deadlines = document.querySelectorAll('#schedule .time-slot');
            deadlines.forEach((deadline, index) => {
                const timeInput = deadline.querySelector('input[type="datetime-local"]');
                const taskInput = deadline.querySelector('input[type="text"]');
                timeInput.placeholder = `Deadline ${index + 1}`;
                taskInput.placeholder = `Task ${index + 1}`;
            });
        }

        function saveNotes() {
            const date = noteDateElement.value || new Date().toISOString().split('T')[0];
            const dayOfWeek = new Date(date).toLocaleDateString('en-US', { weekday: 'long' });
            localStorage.setItem('currentDate', date);
            for (let i = 0; i < scheduleElement.children.length; i++) {
                const timeSlot = scheduleElement.children[i];
                const timeInput = timeSlot.querySelector('input[type="datetime-local"]');
                const taskInput = timeSlot.querySelector('input[type="text"]');
                localStorage.setItem(`schedule-${date}-${i}-time`, timeInput.value);
                localStorage.setItem(`schedule-${date}-${i}-task`, taskInput.value);
            }
            saveList('priorityTasks', date);
            saveList('todoTasks', date);
            saveList('notes', date);
            alert('Notes saved!');
        }

        function saveList(listId, date) {
            const list = document.getElementById(listId);
            for (let i = 0; i < list.children.length; i++) {
                const item = list.children[i];
                const input = item.querySelector('textarea');
                localStorage.setItem(`${listId}-${date}-${i}`, input.value);
                const subTaskList = item.querySelector('.sub-task-list');
                for (let j = 0; j < subTaskList.children.length; j++) {
                    const subTask = subTaskList.children[j];
                    const subTaskInput = subTask.querySelector('textarea');
                    localStorage.setItem(`${listId}-${date}-${i}-subtask-${j}`, subTaskInput.value);
                }
            }
        }

        function loadNotes() {
            const date = noteDateElement.value || localStorage.getItem('currentDate') || new Date().toISOString().split('T')[0];
            noteDateElement.value = date;
            const dayOfWeek = new Date(date).toLocaleDateString('en-US', { weekday: 'long' });
            weekdayElement.innerText = dayOfWeek;
            for (let i = 0; i < scheduleElement.children.length; i++) {
                const timeSlot = scheduleElement.children[i];
                const timeInput = timeSlot.querySelector('input[type="datetime-local"]');
                const taskInput = timeSlot.querySelector('input[type="text"]');
                timeInput.value = localStorage.getItem(`schedule-${date}-${i}-time`) || '';
                taskInput.value = localStorage.getItem(`schedule-${date}-${i}-task`) || '';
            }
            loadList('priorityTasks', date);
            loadList('todoTasks', date);
            loadList('notes', date);
        }

        function loadList(listId, date) {
            const list = document.getElementById(listId);
            list.innerHTML = '';
            let i = 0;
            while (localStorage.getItem(`${listId}-${date}-${i}`) !== null) {
                const newTask = document.createElement('li');
                const input = document.createElement('textarea');
                const checkbox = document.createElement('input');
                checkbox.type = 'checkbox';
                checkbox.classList.add('task-checkbox');
                const subTaskList = document.createElement('ul');
                subTaskList.classList.add('sub-task-list');
                input.value = localStorage.getItem(`${listId}-${date}-${i}`);
                newTask.appendChild(input);
                newTask.appendChild(checkbox);
                newTask.appendChild(subTaskList);
                list.appendChild(newTask);
                let j = 0;
                while (localStorage.getItem(`${listId}-${date}-${i}-subtask-${j}`) !== null) {
                    const newSubTask = document.createElement('li');
                    const subTaskInput = document.createElement('textarea');
                    const subCheckbox = document.createElement('input');
                    subCheckbox.type = 'checkbox';
                    subCheckbox.classList.add('task-checkbox');
                    subTaskInput.value = localStorage.getItem(`${listId}-${date}-${i}-subtask-${j}`);
                    newSubTask.appendChild(subTaskInput);
                    newSubTask.appendChild(subCheckbox);
                    subTaskList.appendChild(newSubTask);
                    j++;
                }
                i++;
            }
            updateTimeSlots();
        }

        function clearNotes() {
            if (confirm('Are you sure you want to clear the notes?')) {
                const date = noteDateElement.value || new Date().toISOString().split('T')[0];
                for (let i = 0; i < scheduleElement.children.length; i++) {
                    const timeSlot = scheduleElement.children[i];
                    const timeInput = timeSlot.querySelector('input[type="datetime-local"]');
                    const taskInput = timeSlot.querySelector('input[type="text"]');
                    timeInput.value = '';
                    taskInput.value = '';
                    localStorage.removeItem(`schedule-${date}-${i}-time`);
                    localStorage.removeItem(`schedule-${date}-${i}-task`);
                }
                clearList('priorityTasks', date);
                clearList('todoTasks', date);
                clearList('notes', date);
            }
        }

        function clearList(listId, date) {
            const list = document.getElementById(listId);
            for (let i = 0; i < list.children.length; i++) {
                const item = list.children[i];
                const input = item.querySelector('textarea');
                input.value = '';
                const subTaskList = item.querySelector('.sub-task-list');
                for (let j = 0; j < subTaskList.children.length; j++) {
                    const subTask = subTaskList.children[j];
                    const subTaskInput = subTask.querySelector('textarea');
                    subTaskInput.value = '';
                    localStorage.removeItem(`${listId}-${date}-${i}-subtask-${j}`);
                }
                localStorage.removeItem(`${listId}-${date}-${i}`);
            }
        }

        noteDateElement.addEventListener('change', loadNotes);
        document.addEventListener('DOMContentLoaded', loadNotes);
    </script>
</body>
</html>
